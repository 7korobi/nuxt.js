{"version":3,"sources":["webpack:///webpack/bootstrap 4eccb291f2f024c96165","webpack:///external \"lodash\"","webpack:///external \"path\"","webpack:///./lib/utils.js","webpack:///external \"babel-runtime/core-js/promise\"","webpack:///external \"babel-runtime/helpers/asyncToGenerator\"","webpack:///external \"babel-runtime/regenerator\"","webpack:///external \"babel-runtime/core-js/json/stringify\"","webpack:///external \"debug\"","webpack:///external \"babel-runtime/helpers/classCallCheck\"","webpack:///external \"babel-runtime/helpers/createClass\"","webpack:///external \"fs-extra\"","webpack:///external \"pify\"","webpack:///external \"babel-runtime/core-js/object/assign\"","webpack:///external \"webpack\"","webpack:///./lib/webpack/base.config.js","webpack:///./lib/webpack/helpers.js","webpack:///external \"babel-runtime/helpers/typeof\"","webpack:///external \"extract-text-webpack-plugin\"","webpack:///external \"hash-sum\"","webpack:///external \"serialize-javascript\"","webpack:///./lib/build.js","webpack:///./lib/generate.js","webpack:///./lib/module.js","webpack:///./lib/render.js","webpack:///./lib/server.js","webpack:///external \"compression\"","webpack:///external \"serve-static\"","webpack:///./lib/nuxt.js","webpack:///./lib/webpack/client.config.js","webpack:///./lib/webpack/server.config.js","webpack:///./lib/webpack/vue-loader.config.js","webpack:///external \"ansi-html\"","webpack:///external \"autoprefixer\"","webpack:///external \"babel-runtime/core-js/array/from\"","webpack:///external \"babel-runtime/helpers/slicedToArray\"","webpack:///external \"chokidar\"","webpack:///external \"connect\"","webpack:///external \"etag\"","webpack:///external \"fresh\"","webpack:///external \"friendly-errors-webpack-plugin\"","webpack:///external \"fs\"","webpack:///external \"glob\"","webpack:///external \"html-minifier\"","webpack:///external \"html-webpack-plugin\"","webpack:///external \"http\"","webpack:///external \"jsdom\"","webpack:///external \"memory-fs\"","webpack:///external \"offline-plugin\"","webpack:///external \"post-compile-webpack-plugin\"","webpack:///external \"progress-bar-webpack-plugin\"","webpack:///external \"uglify-es-webpack-plugin\"","webpack:///external \"vue-server-renderer\"","webpack:///external \"vue-server-renderer/client-plugin\"","webpack:///external \"vue-server-renderer/server-plugin\"","webpack:///external \"webpack-bundle-analyzer\"","webpack:///external \"webpack-dev-middleware\"","webpack:///external \"webpack-hot-middleware\"","webpack:///external \"webpack-node-externals\""],"names":["encodeHtml","str","replace","getContext","req","res","setAnsiColors","ansiHTML","setColors","reset","darkgrey","yellow","green","magenta","blue","cyan","red","ms","resolve","setTimeout","waitFor","urlJoin","slice","call","arguments","join","isUrl","url","indexOf","promisifyRoute","fn","Array","isArray","length","reject","err","routeParams","promise","then","sequence","tasks","reduce","task","chainFn","base","Function","apply","wp","p","test","process","platform","reqSep","sysSep","_","escapeRegExp","normalize","string","r","args","last","includes","map","isClient","isServer","nodeModulesDir","__dirname","config","devtool","dev","entry","vendor","output","publicPath","options","build","router","performance","maxEntrypointSize","maxAssetSize","hints","extensions","alias","srcDir","buildDir","modules","dir","resolveLoader","module","rules","loader","query","vueLoaderConfig","exclude","defaults","babel","presets","babelrc","cacheDirectory","use","styleLoader","pretty","tag","gfm","tables","breaks","pedantic","sanitize","smartLists","smartypants","limit","name","plugins","extractStyles","push","filename","filenames","css","concat","loaders","extractCSS","ext","ExtractTextPlugin","extract","fallback","debug","createWebpackMiddleware","webpackWatchAndUpdate","watchFiles","webpackRunClient","webpackRunServer","addAppTemplate","buildFiles","templatesFiles","templateVars","uniqBy","isDev","mode","middleware","linkActiveClass","linkExactActiveClass","scrollBehavior","env","head","fs","existsSync","store","i","src","ssr","appPath","layouts","loading","transition","components","ErrorPage","glob","cwd","layoutsFiles","forEach","file","split","default","mkdirp","_nuxtPages","files","routes","createRoutes","extendRoutes","flatRoutes","customTemplateFiles","templates","t","dst","basename","customPath","customFileExists","custom","filter","all","watch","readFile","fileContent","template","imports","serialize","hash","content","path","dirname","writeFile","dateFS","Date","now","utimes","generateRoutesAndFiles","require","remove","pify","webpackStats","color","analyze","manifest","app","postcss","defaultsLoaders","defaultsPostcss","browsers","extraDefaults","defaultsDeep","production","chunks","children","colors","serverConfig","getWebpackServerConfig","bundlePath","manifestPath","bundle","readFileSync","createRenderer","JSON","parse","_buildDone","_building","ready","console","error","exit","templatePath","appTemplate","interpolate","keys","route","component","parent","key","child","find","sort","a","b","_a","_b","y","z","cleanChildrenRoutes","isChild","start","routesIndex","s","names","paths","shift","getWebpackClientConfig","clientWebpackConfig","serverWebpackConfig","clientConfig","host","HOST","npm_package_config_nuxt_host","port","PORT","npm_package_config_nuxt_port","flatten","webpack","HotModuleReplacementPlugin","NoEmitOnErrorsPlugin","stats","hasErrors","hasWarnings","log","clientCompiler","webpackDevMiddleware","quiet","noInfo","watchOptions","watchers","webpackHotMiddleware","plugin","fileSystem","filePath","watchHandler","MFS","serverFS","clientFS","outputFileSystem","serverCompiler","bundleExists","manifestExists","webpackServerWatcher","run","toString","Error","renderer","createBundleRenderer","clientManifest","runInNewContext","basedir","renderToString","renderToStream","patterns","chokidar","ignoreInitial","refreshFiles","debounce","filesWatcher","on","customFilesWatcher","uniq","copy","interval","minify","collapseBooleanAttributes","collapseWhitespace","decodeEntities","minifyCSS","minifyJS","processConditionalComments","removeAttributeQuotes","removeComments","removeEmptyAttributes","removeOptionalTags","removeRedundantAttributes","removeScriptTypeAttributes","removeStyleLinkTypeAttributes","removeTagWhitespace","sortAttributes","sortClassName","trimCustomFragments","useShortDoctype","decorateWithPayloads","routeMap","payload","generateRoutes","isString","values","errors","generate","srcStaticPath","srcBuiltPath","distPath","distNuxtPath","n","splice","html","renderRoute","_generate","type","minifyErr","nojekyllPath","duration","Math","round","report","stack","Module","nuxt","requiredModules","initing","addModule","bind","srcPath","fileName","templateObj","addTemplate","unshift","serverMiddleware","extend","moduleOpts","requireOnce","originalSrc","substr","eval","e","meta","alreadyRequired","result","render","context","statusCode","gzip","gzipMiddleware","serveStatic","serveStaticNuxt","end","redirected","resourceHints","etag","generateETag","fresh","headers","setHeader","http2","regex","pushAssets","m","exec","rel","href","as","Buffer","byteLength","errorTemplate","APP","serverRendered","inject","HEAD","text","title","link","style","script","noscript","_routerBaseSpecified","renderResourceHints","renderStyles","isJSON","renderScripts","HTML_ATTRS","htmlAttrs","BODY_ATTRS","bodyAttrs","jsdom","opts","resources","runScripts","beforeParse","window","scrollTo","virtualConsole","VirtualConsole","sendTo","JSDOM","fromURL","nuxtExists","document","body","innerHTML","_onNuxtLoaded","renderAndGetWindow","http","connect","Server","server","createServer","useMiddleware","handler","next","listen","cb","close","Nuxt","NODE_ENV","failedColor","height","static","threshold","weak","_ready","rootDir","appTemplatePath","maxAge","compression","utils","callback","promises","each","value","DefinePlugin","optimize","CommonsChunkPlugin","minChunks","request","Infinity","LoaderOptionsPlugin","minimize","sourceMap","compress","warnings","offline","offlineOpts","target","libraryTarget","externals","nodeExternals","whitelist","babelOptions","preserveWhitespace"],"mappings":"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","file":"nuxt.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 27);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4eccb291f2f024c96165","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 1\n// module chunks = 0","'use strict'\nimport { resolve, sep } from 'path'\nimport _ from 'lodash'\n\nexport function encodeHtml (str) {\n  return str.replace(/</g, '&lt;').replace(/>/g, '&gt;')\n}\n\nexport function getContext (req, res) {\n  return { req, res }\n}\n\nexport function setAnsiColors (ansiHTML) {\n  ansiHTML.setColors({\n    reset: ['efefef', 'a6004c'],\n    darkgrey: '5a012b',\n    yellow: 'ffab07',\n    green: 'aeefba',\n    magenta: 'ff84bf',\n    blue: '3505a0',\n    cyan: '56eaec',\n    red: '4e053a'\n  })\n}\n\nexport async function waitFor (ms) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, (ms || 0))\n  })\n}\n\nexport function urlJoin () {\n  return [].slice.call(arguments).join('/').replace(/\\/+/g, '/').replace(':/', '://')\n}\n\nexport function isUrl (url) {\n  return (url.indexOf('http') === 0 || url.indexOf('//') === 0)\n}\n\nexport function promisifyRoute (fn) {\n  // If routes is an array\n  if (Array.isArray(fn)) {\n    return Promise.resolve(fn)\n  }\n  // If routes is a function expecting a callback\n  if (fn.length === 1) {\n    return new Promise((resolve, reject) => {\n      fn(function (err, routeParams) {\n        if (err) {\n          reject(err)\n        }\n        resolve(routeParams)\n      })\n    })\n  }\n  let promise = fn()\n  if (!promise || (!(promise instanceof Promise) && (typeof promise.then !== 'function'))) {\n    promise = Promise.resolve(promise)\n  }\n  return promise\n}\n\nexport function sequence (tasks, fn) {\n  return tasks.reduce((promise, task) => promise.then(() => fn(task)), Promise.resolve())\n}\n\nexport function chainFn (base, fn) {\n  /* istanbul ignore if */\n  if (!(fn instanceof Function)) {\n    return\n  }\n  return function () {\n    if (base instanceof Function) {\n      base.apply(this, arguments)\n    }\n    fn.apply(this, arguments)\n  }\n}\n\nexport function wp (p) {\n  /* istanbul ignore if */\n  if (/^win/.test(process.platform)) {\n    p = p.replace(/\\\\/g, '\\\\\\\\')\n  }\n  return p\n}\n\nconst reqSep = /\\//g\nconst sysSep = _.escapeRegExp(sep)\nconst normalize = string => string.replace(reqSep, sysSep)\n\nexport function r () {\n  let args = Array.from(arguments)\n  if (_.last(args).includes('~')) {\n    return wp(_.last(args))\n  }\n  args = args.map(normalize)\n  return wp(resolve.apply(null, args))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/utils.js","module.exports = require(\"babel-runtime/core-js/promise\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/promise\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/asyncToGenerator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/asyncToGenerator\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"babel-runtime/regenerator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/regenerator\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/json/stringify\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/json/stringify\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"debug\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"debug\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/classCallCheck\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/classCallCheck\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/createClass\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/createClass\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"fs-extra\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs-extra\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"pify\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"pify\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/object/assign\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/object/assign\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"webpack\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack\"\n// module id = 13\n// module chunks = 0","'use strict'\n\nimport vueLoaderConfig from './vue-loader.config'\nimport { defaults } from 'lodash'\nimport { join } from 'path'\nimport { isUrl, urlJoin } from '../utils'\nimport { styleLoader, extractStyles } from './helpers'\nimport ExtractTextPlugin from 'extract-text-webpack-plugin'\n\n/*\n|--------------------------------------------------------------------------\n| Webpack Shared Config\n|\n| This is the config which is extended by the server and client\n| webpack config files\n|--------------------------------------------------------------------------\n*/\nexport default function ({ isClient, isServer }) {\n  const nodeModulesDir = join(__dirname, '..', 'node_modules')\n  let config = {\n    devtool: (this.dev ? 'cheap-module-source-map' : false),\n    entry: {\n      vendor: ['vue', 'vue-router', 'vue-meta']\n    },\n    output: {\n      publicPath: (isUrl(this.options.build.publicPath) ? this.options.build.publicPath : urlJoin(this.options.router.base, this.options.build.publicPath))\n    },\n    performance: {\n      maxEntrypointSize: 300000,\n      maxAssetSize: 300000,\n      hints: (this.dev ? false : 'warning')\n    },\n    resolve: {\n      extensions: ['.js', '.json', '.vue', '.ts', '.coffee'],\n      // Disable for now\n      alias: {\n        '~': join(this.srcDir),\n        'static': join(this.srcDir, 'static'), // use in template with <img src=\"~static/nuxt.png\" />\n        '~static': join(this.srcDir, 'static'),\n        '~/static': join(this.srcDir, 'static'),\n        'assets': join(this.srcDir, 'assets'), // use in template with <img src=\"~assets/nuxt.png\" />\n        '~assets': join(this.srcDir, 'assets'),\n        '~/assets': join(this.srcDir, 'assets'),\n        '~plugins': join(this.srcDir, 'plugins'),\n        '~/plugins': join(this.srcDir, 'plugins'),\n        '~store': join(this.buildDir, 'store'),\n        '~/store': join(this.buildDir, 'store'),\n        '~router': join(this.buildDir, 'router'),\n        '~/router': join(this.buildDir, 'router'),\n        '~pages': join(this.srcDir, 'pages'),\n        '~/pages': join(this.srcDir, 'pages'),\n        '~components': join(this.srcDir, 'components'),\n        '~/components': join(this.srcDir, 'components')\n      },\n      modules: [\n        join(this.dir, 'node_modules'),\n        nodeModulesDir\n      ]\n    },\n    resolveLoader: {\n      modules: [\n        join(this.dir, 'node_modules'),\n        nodeModulesDir\n      ]\n    },\n    module: {\n      rules: [\n        {\n          test: /\\.vue$/,\n          loader: 'vue-loader',\n          query: vueLoaderConfig.call(this, { isClient, isServer })\n        },\n        {\n          test: /\\.js$/,\n          loader: 'babel-loader',\n          exclude: /node_modules/,\n          query: defaults(this.options.build.babel, {\n            presets: ['vue-app'],\n            babelrc: false,\n            cacheDirectory: !!this.dev\n          })\n        },\n        { test: /\\.css$/, use: styleLoader.call(this, 'css') },\n        { test: /\\.less$/, use: styleLoader.call(this, 'less', 'less-loader') },\n        { test: /\\.sass$/, use: styleLoader.call(this, 'sass', 'sass-loader?indentedSyntax&sourceMap') },\n        { test: /\\.scss$/, use: styleLoader.call(this, 'sass', 'sass-loader?sourceMap') },\n        { test: /\\.styl(us)?$/, use: styleLoader.call(this, 'stylus', 'stylus-loader') },\n        { test: /\\.coffee$/, loader: 'coffee-loader' },\n        { test: /\\.yml$/, loader: 'json-loader!yaml-loader' },\n        {\n          test: /\\.pug$/,\n          loader: 'pug-html-loader',\n          query: {\n            pretty: true\n          }\n        },\n        {\n          test: /\\.md$/,\n          use: {\n            loader: 'markdown-loader',\n            options: {\n              tag: 'div',\n              gfm: true,\n              tables: true,\n              breaks: true,\n              pedantic: false,\n              sanitize: false,\n              smartLists: true,\n              smartypants: true\n            }\n          }\n        },\n        {\n          test: /\\.(png|jpe?g|gif|svg)$/,\n          loader: 'url-loader',\n          query: {\n            limit: 1000, // 1KO\n            name: 'img/[name].[hash:7].[ext]'\n          }\n        },\n        {\n          test: /\\.(woff2?|eot|ttf|otf)(\\?.*)?$/,\n          loader: 'url-loader',\n          query: {\n            limit: 1000, // 1 KO\n            name: 'fonts/[name].[hash:7].[ext]'\n          }\n        },\n        {\n          test: /\\.(webm|mp4)$/,\n          loader: 'file',\n          query: {\n            name: 'videos/[name].[hash:7].[ext]'\n          }\n        }\n      ]\n    },\n    plugins: this.options.build.plugins\n  }\n  // CSS extraction\n  if (extractStyles.call(this)) {\n    config.plugins.push(\n      new ExtractTextPlugin({filename: this.options.build.filenames.css})\n    )\n  }\n  // Add nuxt build loaders (can be configured in nuxt.config.js)\n  config.module.rules = config.module.rules.concat(this.options.build.loaders)\n  // Return config\n  return config\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/webpack/base.config.js","import ExtractTextPlugin from 'extract-text-webpack-plugin'\n\nexport function extractStyles () {\n  return !this.dev && this.options.build.extractCSS\n}\n\nexport function styleLoader (ext, loader = []) {\n  if (extractStyles.call(this)) {\n    return ExtractTextPlugin.extract({\n      use: ['css-loader?minify&sourceMap'].concat(loader),\n      fallback: 'vue-style-loader?sourceMap'\n    })\n  }\n  return ['vue-style-loader?sourceMap', 'css-loader?sourceMap'].concat(loader)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/webpack/helpers.js","module.exports = require(\"babel-runtime/helpers/typeof\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/typeof\"\n// module id = 16\n// module chunks = 0","module.exports = require(\"extract-text-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"extract-text-webpack-plugin\"\n// module id = 17\n// module chunks = 0","module.exports = require(\"hash-sum\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"hash-sum\"\n// module id = 18\n// module chunks = 0","module.exports = require(\"serialize-javascript\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serialize-javascript\"\n// module id = 19\n// module chunks = 0","'use strict'\n\nimport _ from 'lodash'\nimport chokidar from 'chokidar'\nimport fs from 'fs-extra'\nimport hash from 'hash-sum'\nimport pify from 'pify'\nimport webpack from 'webpack'\nimport PostCompilePlugin from 'post-compile-webpack-plugin'\nimport serialize from 'serialize-javascript'\nimport { createBundleRenderer } from 'vue-server-renderer'\nimport { join, resolve, basename, dirname } from 'path'\nimport { isUrl, r, wp } from './utils'\nimport clientWebpackConfig from './webpack/client.config.js'\nimport serverWebpackConfig from './webpack/server.config.js'\nconst debug = require('debug')('nuxt:build')\nconst remove = pify(fs.remove)\nconst readFile = pify(fs.readFile)\nconst utimes = pify(fs.utimes)\nconst writeFile = pify(fs.writeFile)\nconst mkdirp = pify(fs.mkdirp)\nconst glob = pify(require('glob'))\n\nlet webpackStats = 'none'\ndebug.color = 2 // force green color\n\nconst defaults = {\n  analyze: false,\n  extractCSS: false,\n  publicPath: '/_nuxt/',\n  filenames: {\n    css: 'common.[chunkhash].css',\n    manifest: 'manifest.[hash].js',\n    vendor: 'vendor.bundle.[chunkhash].js',\n    app: 'nuxt.bundle.[chunkhash].js'\n  },\n  vendor: [],\n  loaders: [],\n  plugins: [],\n  babel: {},\n  postcss: [],\n  templates: [],\n  watch: []\n}\nconst defaultsLoaders = [\n  {\n    test: /\\.(png|jpe?g|gif|svg)$/,\n    loader: 'url-loader',\n    query: {\n      limit: 1000, // 1KO\n      name: 'img/[name].[hash:7].[ext]'\n    }\n  },\n  {\n    test: /\\.(woff2?|eot|ttf|otf)(\\?.*)?$/,\n    loader: 'url-loader',\n    query: {\n      limit: 1000, // 1 KO\n      name: 'fonts/[name].[hash:7].[ext]'\n    }\n  }\n]\nconst defaultsPostcss = [\n  require('autoprefixer')({\n    browsers: ['last 3 versions']\n  })\n]\n\nexport function options () {\n  // Defaults build options\n  let extraDefaults = {}\n  if (this.options.build && !Array.isArray(this.options.build.loaders)) extraDefaults.loaders = defaultsLoaders\n  if (this.options.build && !Array.isArray(this.options.build.postcss)) extraDefaults.postcss = defaultsPostcss\n  this.options.build = _.defaultsDeep(this.options.build, defaults, extraDefaults)\n  /* istanbul ignore if */\n  if (this.dev && isUrl(this.options.build.publicPath)) {\n    this.options.build.publicPath = defaults.publicPath\n  }\n}\n\nexport function production () {\n  // Production, create server-renderer\n  webpackStats = {\n    chunks: false,\n    children: false,\n    modules: false,\n    colors: true\n  }\n  const serverConfig = getWebpackServerConfig.call(this)\n  const bundlePath = join(serverConfig.output.path, 'server-bundle.json')\n  const manifestPath = join(serverConfig.output.path, 'client-manifest.json')\n  if (fs.existsSync(bundlePath) && fs.existsSync(manifestPath)) {\n    const bundle = fs.readFileSync(bundlePath, 'utf8')\n    const manifest = fs.readFileSync(manifestPath, 'utf8')\n    createRenderer.call(this, JSON.parse(bundle), JSON.parse(manifest))\n    addAppTemplate.call(this)\n  }\n}\n\nexport async function build () {\n  // Avoid calling this method multiple times\n  if (this._buildDone) {\n    return this\n  }\n  // If building\n  if (this._building) {\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        resolve(this.build())\n      }, 300)\n    })\n  }\n  this._building = true\n  // Wait for Nuxt.js to be ready\n  await this.ready()\n  // Check if pages dir exists and warn if not\n  this._nuxtPages = typeof this.createRoutes !== 'function'\n  if (this._nuxtPages) {\n    if (!fs.existsSync(join(this.srcDir, 'pages'))) {\n      if (fs.existsSync(join(this.srcDir, '..', 'pages'))) {\n        console.error('> No `pages` directory found. Did you mean to run `nuxt` in the parent (`../`) directory?') // eslint-disable-line no-console\n      } else {\n        console.error('> Couldn\\'t find a `pages` directory. Please create one under the project root') // eslint-disable-line no-console\n      }\n      process.exit(1)\n    }\n  }\n  debug(`App root: ${this.srcDir}`)\n  debug(`Generating ${this.buildDir} files...`)\n  // Create .nuxt/, .nuxt/components and .nuxt/dist folders\n  await remove(r(this.buildDir))\n  await mkdirp(r(this.buildDir, 'components'))\n  if (!this.dev) {\n    await mkdirp(r(this.buildDir, 'dist'))\n  }\n  // Generate routes and interpret the template files\n  await generateRoutesAndFiles.call(this)\n  // Generate .nuxt/dist/ files\n  await buildFiles.call(this)\n  // Flag to set that building is done\n  this._buildDone = true\n  return this\n}\n\nasync function buildFiles () {\n  if (this.dev) {\n    debug('Adding webpack middleware...')\n    createWebpackMiddleware.call(this)\n    webpackWatchAndUpdate.call(this)\n    watchFiles.call(this)\n  } else {\n    debug('Building files...')\n    await webpackRunClient.call(this)\n    await webpackRunServer.call(this)\n    addAppTemplate.call(this)\n  }\n}\n\nfunction addAppTemplate () {\n  let templatePath = resolve(this.buildDir, 'dist', 'index.html')\n  if (fs.existsSync(templatePath)) {\n    this.appTemplate = _.template(fs.readFileSync(templatePath, 'utf8'), {\n      interpolate: /{{([\\s\\S]+?)}}/g\n    })\n  }\n}\n\nasync function generateRoutesAndFiles () {\n  debug('Generating files...')\n  // -- Templates --\n  let templatesFiles = [\n    'App.vue',\n    'client.js',\n    'index.js',\n    'middleware.js',\n    'router.js',\n    'server.js',\n    'utils.js',\n    'components/nuxt-error.vue',\n    'components/nuxt-loading.vue',\n    'components/nuxt-child.js',\n    'components/nuxt-link.js',\n    'components/nuxt.vue'\n  ]\n  const templateVars = {\n    options: this.options,\n    uniqBy: _.uniqBy,\n    isDev: this.dev,\n    router: {\n      mode: this.options.router.mode,\n      base: this.options.router.base,\n      middleware: this.options.router.middleware,\n      linkActiveClass: this.options.router.linkActiveClass,\n      linkExactActiveClass: this.options.router.linkExactActiveClass,\n      scrollBehavior: this.options.router.scrollBehavior\n    },\n    env: this.options.env,\n    head: this.options.head,\n    middleware: fs.existsSync(join(this.srcDir, 'middleware')),\n    store: this.options.store || fs.existsSync(join(this.srcDir, 'store')),\n    css: this.options.css,\n    plugins: this.options.plugins.map((p, i) => {\n      if (typeof p === 'string') p = { src: p }\n      p.src = r(this.srcDir, p.src)\n      return { src: p.src, ssr: (p.ssr !== false), name: `plugin${i}` }\n    }),\n    appPath: './App.vue',\n    layouts: Object.assign({}, this.options.layouts),\n    loading: (typeof this.options.loading === 'string' ? r(this.srcDir, this.options.loading) : this.options.loading),\n    transition: this.options.transition,\n    components: {\n      ErrorPage: this.options.ErrorPage ? r(this.options.ErrorPage) : null\n    }\n  }\n\n  // -- Layouts --\n  if (fs.existsSync(resolve(this.srcDir, 'layouts'))) {\n    const layoutsFiles = await glob('layouts/*.vue', {cwd: this.srcDir})\n    layoutsFiles.forEach((file) => {\n      let name = file.split('/').slice(-1)[0].replace('.vue', '')\n      if (name === 'error') return\n      templateVars.layouts[name] = r(this.srcDir, file)\n    })\n    if (layoutsFiles.includes('layouts/error.vue')) {\n      templateVars.components.ErrorPage = r(this.srcDir, 'layouts/error.vue')\n    }\n  }\n  // If no default layout, create its folder and add the default folder\n  if (!templateVars.layouts.default) {\n    await mkdirp(r(this.buildDir, 'layouts'))\n    templatesFiles.push('layouts/default.vue')\n    templateVars.layouts.default = r(__dirname, 'app', 'layouts', 'default.vue')\n  }\n\n  // -- Routes --\n  debug('Generating routes...')\n  // If user defined a custom method to create routes\n  if (this._nuxtPages) {\n    // Use nuxt.js createRoutes bases on pages/\n    const files = await glob('pages/**/*.vue', {cwd: this.srcDir})\n    templateVars.router.routes = createRoutes(files, this.srcDir)\n  } else {\n    templateVars.router.routes = this.createRoutes(this.srcDir)\n  }\n  // router.extendRoutes method\n  if (typeof this.options.router.extendRoutes === 'function') {\n    // let the user extend the routes\n    this.options.router.extendRoutes.call(this, templateVars.router.routes || [], r)\n  }\n  // Routes for generate command\n  this.routes = flatRoutes(templateVars.router.routes || [])\n\n  // -- Store --\n  // Add store if needed\n  if (this.options.store) {\n    templatesFiles.push('store.js')\n  }\n\n  // Resolve template files\n  const customTemplateFiles = this.options.build.templates.map(t => t.dst || basename(t.src || t))\n  templatesFiles = templatesFiles.map(file => {\n    // Skip if custom file was already provided in build.templates[]\n    if (customTemplateFiles.indexOf(file) !== -1) {\n      return\n    }\n    // Allow override templates using a file with same name in ${srcDir}/app\n    const customPath = r(this.srcDir, 'app', file)\n    const customFileExists = fs.existsSync(customPath)\n    return {\n      src: customFileExists ? customPath : r(__dirname, 'app', file),\n      dst: file,\n      custom: customFileExists\n    }\n  }).filter(i => !!i)\n\n  // -- Custom templates --\n  // Add custom template files\n  templatesFiles = templatesFiles.concat(this.options.build.templates.map(t => {\n    return Object.assign({\n      src: r(this.dir, t.src || t),\n      dst: t.dst || basename(t.src || t),\n      custom: true\n    }, t)\n  }))\n\n  // Interpret and move template files to .nuxt/\n  return Promise.all(templatesFiles.map(async ({ src, dst, options, custom }) => {\n    // Add template to watchers\n    this.options.build.watch.push(src)\n    // Render template to dst\n    const fileContent = await readFile(src, 'utf8')\n    const template = _.template(fileContent, {\n      imports: {\n        serialize,\n        hash,\n        r,\n        wp\n      }\n    })\n    const content = template(Object.assign({}, templateVars, {\n      options: options || {},\n      custom,\n      src,\n      dst\n    }))\n    const path = r(this.buildDir, dst)\n    // Ensure parent dir exits\n    await mkdirp(dirname(path))\n    // Write file\n    await writeFile(path, content, 'utf8')\n    // Fix webpack loop (https://github.com/webpack/watchpack/issues/25#issuecomment-287789288)\n    const dateFS = Date.now() / 1000 - 30\n    return utimes(path, dateFS, dateFS)\n  }))\n}\n\nfunction createRoutes (files, srcDir) {\n  let routes = []\n  files.forEach((file) => {\n    let keys = file.replace(/^pages/, '').replace(/\\.vue$/, '').replace(/\\/{2,}/g, '/').split('/').slice(1)\n    let route = { name: '', path: '', component: r(srcDir, file) }\n    let parent = routes\n    keys.forEach((key, i) => {\n      route.name = route.name ? route.name + '-' + key.replace('_', '') : key.replace('_', '')\n      route.name += (key === '_') ? 'all' : ''\n      let child = _.find(parent, { name: route.name })\n      if (child) {\n        if (!child.children) {\n          child.children = []\n        }\n        parent = child.children\n        route.path = ''\n      } else {\n        if (key === 'index' && (i + 1) === keys.length) {\n          route.path += (i > 0 ? '' : '/')\n        } else {\n          route.path += '/' + (key === '_' ? '*' : key.replace('_', ':'))\n          if (key !== '_' && key.indexOf('_') !== -1) {\n            route.path += '?'\n          }\n        }\n      }\n    })\n    // Order Routes path\n    parent.push(route)\n    parent.sort((a, b) => {\n      if (!a.path.length || a.path === '/') { return -1 }\n      if (!b.path.length || b.path === '/') { return 1 }\n      var res = 0\n      var _a = a.path.split('/')\n      var _b = b.path.split('/')\n      for (var i = 0; i < _a.length; i++) {\n        if (res !== 0) { break }\n        var y = (_a[i].indexOf('*') > -1) ? 2 : (_a[i].indexOf(':') > -1 ? 1 : 0)\n        var z = (_b[i].indexOf('*') > -1) ? 2 : (_b[i].indexOf(':') > -1 ? 1 : 0)\n        res = y - z\n        if (i === _b.length - 1 && res === 0) {\n          res = 1\n        }\n      }\n      return res === 0 ? -1 : res\n    })\n  })\n  return cleanChildrenRoutes(routes)\n}\n\nfunction cleanChildrenRoutes (routes, isChild = false) {\n  let start = -1\n  let routesIndex = []\n  routes.forEach((route) => {\n    if (/-index$/.test(route.name) || route.name === 'index') {\n      // Save indexOf 'index' key in name\n      let res = route.name.split('-')\n      let s = res.indexOf('index')\n      start = (start === -1 || s < start) ? s : start\n      routesIndex.push(res)\n    }\n  })\n  routes.forEach((route) => {\n    route.path = (isChild) ? route.path.replace('/', '') : route.path\n    if (route.path.indexOf('?') > -1) {\n      let names = route.name.split('-')\n      let paths = route.path.split('/')\n      if (!isChild) { paths.shift() } // clean first / for parents\n      routesIndex.forEach((r) => {\n        let i = r.indexOf('index') - start //  children names\n        if (i < paths.length) {\n          for (var a = 0; a <= i; a++) {\n            if (a === i) { paths[a] = paths[a].replace('?', '') }\n            if (a < i && names[a] !== r[a]) { break }\n          }\n        }\n      })\n      route.path = (isChild ? '' : '/') + paths.join('/')\n    }\n    route.name = route.name.replace(/-index$/, '')\n    if (route.children) {\n      if (route.children.find((child) => child.path === '')) {\n        delete route.name\n      }\n      route.children = cleanChildrenRoutes(route.children, true)\n    }\n  })\n  return routes\n}\n\nfunction flatRoutes (router, path = '', routes = []) {\n  router.forEach((r) => {\n    if (!r.path.includes(':') && !r.path.includes('*')) {\n      if (r.children) {\n        flatRoutes(r.children, path + r.path + '/', routes)\n      } else {\n        routes.push((r.path === '' && path[path.length - 1] === '/' ? path.slice(0, -1) : path) + r.path)\n      }\n    }\n  })\n  return routes\n}\n\nfunction getWebpackClientConfig () {\n  return clientWebpackConfig.call(this)\n}\n\nfunction getWebpackServerConfig () {\n  return serverWebpackConfig.call(this)\n}\n\nfunction createWebpackMiddleware () {\n  const clientConfig = getWebpackClientConfig.call(this)\n  const host = process.env.HOST || process.env.npm_package_config_nuxt_host || '127.0.0.1'\n  const port = process.env.PORT || process.env.npm_package_config_nuxt_port || '3000'\n  // setup on the fly compilation + hot-reload\n  clientConfig.entry.app = _.flatten(['webpack-hot-middleware/client?reload=true', clientConfig.entry.app])\n  clientConfig.plugins.push(\n    new webpack.HotModuleReplacementPlugin(),\n    new webpack.NoEmitOnErrorsPlugin(),\n    new PostCompilePlugin(stats => {\n      if (!stats.hasErrors() && !stats.hasWarnings()) {\n        console.log(`> Open http://${host}:${port}\\n`) // eslint-disable-line no-console\n      }\n    })\n  )\n  const clientCompiler = webpack(clientConfig)\n  this.clientCompiler = clientCompiler\n  // Add the middleware to the instance context\n  this.webpackDevMiddleware = pify(require('webpack-dev-middleware')(clientCompiler, {\n    publicPath: clientConfig.output.publicPath,\n    stats: webpackStats,\n    quiet: true,\n    noInfo: true,\n    watchOptions: this.options.watchers.webpack\n  }))\n  this.webpackHotMiddleware = pify(require('webpack-hot-middleware')(clientCompiler, {\n    log: () => {}\n  }))\n  clientCompiler.plugin('done', () => {\n    const fs = this.webpackDevMiddleware.fileSystem\n    const filePath = join(clientConfig.output.path, 'index.html')\n    if (fs.existsSync(filePath)) {\n      const template = fs.readFileSync(filePath, 'utf-8')\n      this.appTemplate = _.template(template, {\n        interpolate: /{{([\\s\\S]+?)}}/g\n      })\n    }\n    this.watchHandler()\n  })\n}\n\nfunction webpackWatchAndUpdate () {\n  const MFS = require('memory-fs') // <- dependencies of webpack\n  const serverFS = new MFS()\n  const clientFS = this.clientCompiler.outputFileSystem\n  const serverConfig = getWebpackServerConfig.call(this)\n  const serverCompiler = webpack(serverConfig)\n  const bundlePath = join(serverConfig.output.path, 'server-bundle.json')\n  const manifestPath = join(serverConfig.output.path, 'client-manifest.json')\n  serverCompiler.outputFileSystem = serverFS\n  const watchHandler = (err) => {\n    if (err) throw err\n    const bundleExists = serverFS.existsSync(bundlePath)\n    const manifestExists = clientFS.existsSync(manifestPath)\n    if (bundleExists && manifestExists) {\n      const bundle = serverFS.readFileSync(bundlePath, 'utf8')\n      const manifest = clientFS.readFileSync(manifestPath, 'utf8')\n      createRenderer.call(this, JSON.parse(bundle), JSON.parse(manifest))\n    }\n  }\n  this.watchHandler = watchHandler\n  this.webpackServerWatcher = serverCompiler.watch(this.options.watchers.webpack, watchHandler)\n}\n\nfunction webpackRunClient () {\n  return new Promise((resolve, reject) => {\n    const clientConfig = getWebpackClientConfig.call(this)\n    const clientCompiler = webpack(clientConfig)\n    clientCompiler.run((err, stats) => {\n      if (err) return reject(err)\n      console.log('[nuxt:build:client]\\n', stats.toString(webpackStats)) // eslint-disable-line no-console\n      if (stats.hasErrors()) return reject(new Error('Webpack build exited with errors'))\n      resolve()\n    })\n  })\n}\n\nfunction webpackRunServer () {\n  return new Promise((resolve, reject) => {\n    const serverConfig = getWebpackServerConfig.call(this)\n    const serverCompiler = webpack(serverConfig)\n    serverCompiler.run((err, stats) => {\n      if (err) return reject(err)\n      console.log('[nuxt:build:server]\\n', stats.toString(webpackStats)) // eslint-disable-line no-console\n      if (stats.hasErrors()) return reject(new Error('Webpack build exited with errors'))\n      const bundlePath = join(serverConfig.output.path, 'server-bundle.json')\n      const manifestPath = join(serverConfig.output.path, 'client-manifest.json')\n      readFile(bundlePath, 'utf8')\n      .then(bundle => {\n        readFile(manifestPath, 'utf8')\n        .then(manifest => {\n          createRenderer.call(this, JSON.parse(bundle), JSON.parse(manifest))\n          resolve()\n        })\n      })\n    })\n  })\n}\n\nfunction createRenderer (bundle, manifest) {\n  // Create bundle renderer to give a fresh context for every request\n  this.renderer = createBundleRenderer(bundle, Object.assign({\n    clientManifest: manifest,\n    runInNewContext: false,\n    basedir: this.dir\n  }, this.options.build.ssr))\n  this.renderToString = pify(this.renderer.renderToString)\n  this.renderToStream = this.renderer.renderToStream\n}\n\nfunction watchFiles () {\n  const patterns = [\n    r(this.srcDir, 'layouts'),\n    r(this.srcDir, 'store'),\n    r(this.srcDir, 'middleware'),\n    r(this.srcDir, 'layouts/*.vue'),\n    r(this.srcDir, 'layouts/**/*.vue')\n  ]\n  if (this._nuxtPages) {\n    patterns.push(r(this.srcDir, 'pages'))\n    patterns.push(r(this.srcDir, 'pages/*.vue'))\n    patterns.push(r(this.srcDir, 'pages/**/*.vue'))\n  }\n  const options = Object.assign({}, this.options.watchers.chokidar, {\n    ignoreInitial: true\n  })\n  /* istanbul ignore next */\n  const refreshFiles = _.debounce(async () => {\n    await generateRoutesAndFiles.call(this)\n  }, 200)\n  // Watch for internals\n  this.filesWatcher = chokidar.watch(patterns, options)\n  .on('add', refreshFiles)\n  .on('unlink', refreshFiles)\n  // Watch for custom provided files\n  this.customFilesWatcher = chokidar.watch(_.uniq(this.options.build.watch), options)\n  .on('change', refreshFiles)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/build.js","'use strict'\n\nimport fs from 'fs-extra'\nimport pify from 'pify'\nimport _ from 'lodash'\nimport { resolve, join, dirname, sep } from 'path'\nimport { isUrl, promisifyRoute, waitFor } from './utils'\nimport { minify } from 'html-minifier'\nconst debug = require('debug')('nuxt:generate')\nconst copy = pify(fs.copy)\nconst remove = pify(fs.remove)\nconst writeFile = pify(fs.writeFile)\nconst mkdirp = pify(fs.mkdirp)\n\nconst defaults = {\n  dir: 'dist',\n  routes: [],\n  interval: 0,\n  minify: {\n    collapseBooleanAttributes: true,\n    collapseWhitespace: true,\n    decodeEntities: true,\n    minifyCSS: true,\n    minifyJS: true,\n    processConditionalComments: true,\n    removeAttributeQuotes: false,\n    removeComments: false,\n    removeEmptyAttributes: true,\n    removeOptionalTags: true,\n    removeRedundantAttributes: true,\n    removeScriptTypeAttributes: false,\n    removeStyleLinkTypeAttributes: false,\n    removeTagWhitespace: false,\n    sortAttributes: true,\n    sortClassName: true,\n    trimCustomFragments: true,\n    useShortDoctype: true\n  }\n}\n\nexport default async function () {\n  const s = Date.now()\n  let errors = []\n  /*\n  ** Wait for modules to be initialized\n  */\n  await this.ready()\n  /*\n  ** Set variables\n  */\n  this.options.generate = _.defaultsDeep(this.options.generate, defaults)\n  var srcStaticPath = resolve(this.srcDir, 'static')\n  var srcBuiltPath = resolve(this.buildDir, 'dist')\n  var distPath = resolve(this.dir, this.options.generate.dir)\n  var distNuxtPath = join(distPath, (isUrl(this.options.build.publicPath) ? '' : this.options.build.publicPath))\n  /*\n  ** Launch build process\n  */\n  await this.build()\n  /*\n  ** Clean destination folder\n  */\n  try {\n    await remove(distPath)\n    debug('Destination folder cleaned')\n  } catch (e) {}\n  /*\n  ** Copy static and built files\n  */\n  if (fs.existsSync(srcStaticPath)) {\n    await copy(srcStaticPath, distPath)\n  }\n  await copy(srcBuiltPath, distNuxtPath)\n  debug('Static & build files copied')\n  if (this.options.router.mode !== 'hash') {\n    // Resolve config.generate.routes promises before generating the routes\n    try {\n      var generateRoutes = await promisifyRoute(this.options.generate.routes || [])\n    } catch (e) {\n      console.error('Could not resolve routes') // eslint-disable-line no-console\n      console.error(e) // eslint-disable-line no-console\n      process.exit(1)\n      throw e // eslint-disable-line no-unreachable\n    }\n  }\n  function decorateWithPayloads (routes) {\n    let routeMap = {}\n    // Fill routeMap for known routes\n    routes.forEach((route) => {\n      routeMap[route] = {\n        route,\n        payload: null\n      }\n    })\n    // Fill routeMap with given generate.routes\n    generateRoutes.forEach((route) => {\n      // route is either a string or like {route : \"/my_route/1\"}\n      const path = _.isString(route) ? route : route.route\n      routeMap[path] = {\n        route: path,\n        payload: route.payload || null\n      }\n    })\n    return _.values(routeMap)\n  }\n  /*\n  ** Generate only index.html for router.mode = 'hash'\n  */\n  let routes = (this.options.router.mode === 'hash') ? ['/'] : this.routes\n  routes = decorateWithPayloads(routes)\n\n  while (routes.length) {\n    let n = 0\n    await Promise.all(routes.splice(0, 500).map(async ({route, payload}) => {\n      await waitFor(n++ * this.options.generate.interval)\n      let html\n      try {\n        const res = await this.renderRoute(route, { _generate: true, payload })\n        html = res.html\n        if (res.error) {\n          errors.push({ type: 'handled', route, error: res.error })\n        }\n      } catch (err) {\n        /* istanbul ignore next */\n        return errors.push({ type: 'unhandled', route, error: err })\n      }\n      if (this.options.generate.minify) {\n        try {\n          html = minify(html, this.options.generate.minify)\n        } catch (err) /* istanbul ignore next */ {\n          const minifyErr = new Error(`HTML minification failed. Make sure the route generates valid HTML. Failed HTML:\\n ${html}`)\n          errors.push({ type: 'unhandled', route, error: minifyErr })\n        }\n      }\n      let path = join(route, sep, 'index.html') // /about -> /about/index.html\n      debug('Generate file: ' + path)\n      path = join(distPath, path)\n      // Make sure the sub folders are created\n      await mkdirp(dirname(path))\n      await writeFile(path, html, 'utf8')\n    }))\n  }\n  // Add .nojekyll file to let Github Pages add the _nuxt/ folder\n  // https://help.github.com/articles/files-that-start-with-an-underscore-are-missing/\n  const nojekyllPath = resolve(distPath, '.nojekyll')\n  writeFile(nojekyllPath, '')\n  const duration = Math.round((Date.now() - s) / 100) / 10\n  debug(`HTML Files generated in ${duration}s`)\n\n  if (errors.length) {\n    const report = errors.map(({ type, route, error }) => {\n      /* istanbul ignore if */\n      if (type === 'unhandled') {\n        return `Route: '${route}'\\n${error.stack}`\n      } else {\n        return `Route: '${route}' thrown an error: \\n` + JSON.stringify(error)\n      }\n    })\n    console.error('==== Error report ==== \\n' + report.join('\\n\\n')) // eslint-disable-line no-console\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/generate.js","'use strict'\n\nimport path from 'path'\nimport fs from 'fs'\nimport { uniq } from 'lodash'\nimport hash from 'hash-sum'\nimport { chainFn, sequence } from './utils'\n\nconst debug = require('debug')('nuxt:module')\n\nclass Module {\n  constructor (nuxt) {\n    this.nuxt = nuxt\n    this.options = nuxt.options\n    this.requiredModules = []\n    this.initing = this.ready()\n  }\n\n  async ready () {\n    if (this.initing) {\n      await this.initing\n      return this\n    }\n    // Install all modules in sequence\n    await sequence(this.options.modules, this.addModule.bind(this))\n    return this\n  }\n\n  addVendor (vendor) {\n    /* istanbul ignore if */\n    if (!vendor) {\n      return\n    }\n    this.options.build.vendor = uniq(this.options.build.vendor.concat(vendor))\n  }\n\n  addTemplate (template) {\n    /* istanbul ignore if */\n    if (!template) {\n      return\n    }\n    // Validate & parse source\n    const src = template.src || template\n    const srcPath = path.parse(src)\n    /* istanbul ignore if */\n    if (!src || typeof src !== 'string' || !fs.existsSync(src)) {\n      debug('[nuxt] invalid template', template)\n      return\n    }\n    // Generate unique and human readable dst filename\n    const dst = template.fileName ||\n      (path.basename(srcPath.dir) + '.' + srcPath.name + '.' + hash(src) + srcPath.ext)\n    // Add to templates list\n    const templateObj = {\n      src,\n      dst,\n      options: template.options\n    }\n    this.options.build.templates.push(templateObj)\n    return templateObj\n  }\n\n  addPlugin (template) {\n    const {dst} = this.addTemplate(template)\n    // Add to nuxt plugins\n    this.options.plugins.unshift({\n      src: path.join(this.nuxt.buildDir, dst),\n      ssr: template.ssr\n    })\n  }\n\n  addServerMiddleware (middleware) {\n    this.options.serverMiddleware.push(middleware)\n  }\n\n  extendBuild (fn) {\n    this.options.build.extend = chainFn(this.options.build.extend, fn)\n  }\n\n  extendRoutes (fn) {\n    this.options.router.extendRoutes = chainFn(this.options.router.extendRoutes, fn)\n  }\n\n  requireModule (moduleOpts) {\n    // Require once\n    return this.addModule(moduleOpts, true)\n  }\n\n  addModule (moduleOpts, requireOnce) {\n    /* istanbul ignore if */\n    if (!moduleOpts) {\n      return\n    }\n    // Allow using babel style array options\n    if (Array.isArray(moduleOpts)) {\n      moduleOpts = {\n        src: moduleOpts[0],\n        options: moduleOpts[1]\n      }\n    }\n    // Allows passing runtime options to each module\n    const options = moduleOpts.options || (typeof moduleOpts === 'object' ? moduleOpts : {})\n    const originalSrc = moduleOpts.src || moduleOpts\n    // Resolve module\n    let module = originalSrc\n    try {\n      if (typeof module === 'string') {\n        // Using ~ or ./ shorthand modules are resolved from project srcDir\n        if (module.indexOf('~') === 0 || module.indexOf('./') === 0) {\n          module = path.join(this.options.srcDir, module.substr(1))\n        }\n        // eslint-disable-next-line no-eval\n        module = eval('require')(module)\n      }\n    } catch (e) /* istanbul ignore next */ {\n      // eslint-disable-next-line no-console\n      console.error('[nuxt] Unable to resolve module', module)\n      // eslint-disable-next-line no-console\n      console.error(e)\n      process.exit(0)\n    }\n    // Validate module\n    /* istanbul ignore if */\n    if (typeof module !== 'function') {\n      // eslint-disable-next-line no-console\n      console.error(`[nuxt] Module [${originalSrc}] should export a function`)\n      process.exit(1)\n    }\n    // Module meta\n    if (!module.meta) {\n      module.meta = {}\n    }\n    if (module.meta.name) {\n      const alreadyRequired = this.requiredModules.indexOf(module.meta.name) !== -1\n      if (requireOnce && alreadyRequired) {\n        return\n      }\n      if (!alreadyRequired) {\n        this.requiredModules.push(module.meta.name)\n      }\n    }\n    // Call module with `this` context and pass options\n    return new Promise((resolve, reject) => {\n      const result = module.call(this, options, err => {\n        /* istanbul ignore if */\n        if (err) {\n          return reject(err)\n        }\n        resolve(module)\n      })\n      // If module send back a promise\n      if (result && result.then instanceof Function) {\n        return result.then(resolve)\n      }\n      // If not expecting a callback but returns no promise (=synchronous)\n      if (module.length < 2) {\n        return resolve(module)\n      }\n    })\n  }\n}\n\nexport default Module\n\n\n\n// WEBPACK FOOTER //\n// ./lib/module.js","'use strict'\n\nimport ansiHTML from 'ansi-html'\nimport serialize from 'serialize-javascript'\nimport generateETag from 'etag'\nimport fresh from 'fresh'\nimport { getContext, setAnsiColors, encodeHtml } from './utils'\n\nconst debug = require('debug')('nuxt:render')\n// force blue color\ndebug.color = 4\nsetAnsiColors(ansiHTML)\n\nexport async function render (req, res) {\n  // Wait for nuxt.js to be ready\n  await this.ready()\n  // Check if project is built for production\n  if (!this.renderer && !this.dev) {\n    console.error('> No build files found, please run `nuxt build` before launching `nuxt start`') // eslint-disable-line no-console\n    process.exit(1)\n  }\n  /* istanbul ignore if */\n  if (!this.renderer || !this.appTemplate) {\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        resolve(this.render(req, res))\n      }, 1000)\n    })\n  }\n  // Get context\n  const context = getContext(req, res)\n  res.statusCode = 200\n  try {\n    if (this.dev) {\n      // Call webpack middleware only in development\n      await this.webpackDevMiddleware(req, res)\n      await this.webpackHotMiddleware(req, res)\n    }\n    if (!this.dev && this.options.render.gzip) {\n      await this.gzipMiddleware(req, res)\n    }\n    // If base in req.url, remove it for the middleware and vue-router\n    if (this.options.router.base !== '/' && req.url.indexOf(this.options.router.base) === 0) {\n      // Compatibility with base url for dev server\n      req.url = req.url.replace(this.options.router.base, '/')\n    }\n    // Serve static/ files\n    await this.serveStatic(req, res)\n    // Serve .nuxt/dist/ files (only for production)\n    if (!this.dev && req.url.indexOf(this.options.build.publicPath) === 0) {\n      const url = req.url\n      req.url = req.url.replace(this.options.build.publicPath, '/')\n      await this.serveStaticNuxt(req, res)\n      /* istanbul ignore next */\n      req.url = url\n    }\n    if (this.dev && req.url.indexOf(this.options.build.publicPath) === 0 && req.url.includes('.hot-update.json')) {\n      res.statusCode = 404\n      return res.end()\n    }\n    const {html, error, redirected, resourceHints} = await this.renderRoute(req.url, context)\n    if (redirected) {\n      return html\n    }\n    if (error) {\n      res.statusCode = context.nuxt.error.statusCode || 500\n    }\n    // ETag header\n    if (!error && this.options.render.etag) {\n      const etag = generateETag(html, this.options.render.etag)\n      if (fresh(req.headers, {etag})) {\n        res.statusCode = 304\n        res.end()\n        return\n      }\n      res.setHeader('ETag', etag)\n    }\n    // HTTP2 push headers\n    if (!error && this.options.render.http2.push) {\n      // Parse resourceHints to extract HTTP.2 prefetch/push headers\n      // https://w3c.github.io/preload/#server-push-http-2\n      const regex = /link rel=\"([^\"]*)\" href=\"([^\"]*)\" as=\"([^\"]*)\"/g\n      const pushAssets = []\n      let m\n      while (m = regex.exec(resourceHints)) { // eslint-disable-line no-cond-assign\n        const [_, rel, href, as] = m // eslint-disable-line no-unused-vars\n        if (rel === 'preload') {\n          pushAssets.push(`<${href}>; rel=${rel}; as=${as}`)\n        }\n      }\n      // Pass with single Link header\n      // https://blog.cloudflare.com/http-2-server-push-with-multiple-assets-per-link-header\n      res.setHeader('Link', pushAssets.join(','))\n    }\n    res.setHeader('Content-Type', 'text/html; charset=utf-8')\n    res.setHeader('Content-Length', Buffer.byteLength(html))\n    res.end(html, 'utf8')\n    return html\n  } catch (err) {\n    if (context.redirected) {\n      console.error(err) // eslint-disable-line no-console\n      return err\n    }\n    const html = this.errorTemplate({\n      /* istanbul ignore if */\n      error: err,\n      stack: ansiHTML(encodeHtml(err.stack))\n    })\n    res.statusCode = 500\n    res.setHeader('Content-Type', 'text/html; charset=utf-8')\n    res.setHeader('Content-Length', Buffer.byteLength(html))\n    res.end(html, 'utf8')\n    return err\n  }\n}\n\nexport async function renderRoute (url, context = {}) {\n  // Wait for modules to be initialized\n  await this.ready()\n  // Log rendered url\n  debug(`Rendering url ${url}`)\n  // Add url and isSever to the context\n  context.url = url\n  context.isServer = true\n  // Call renderToString from the bundleRenderer and generate the HTML (will update the context as well)\n  let APP = await this.renderToString(context)\n  if (!context.nuxt.serverRendered) {\n    APP = '<div id=\"__nuxt\"></div>'\n  }\n  const m = context.meta.inject()\n  let HEAD = m.meta.text() + m.title.text() + m.link.text() + m.style.text() + m.script.text() + m.noscript.text()\n  if (this._routerBaseSpecified) {\n    HEAD += `<base href=\"${this.options.router.base}\">`\n  }\n  const resourceHints = context.renderResourceHints()\n  HEAD += resourceHints + context.renderStyles()\n  APP += `<script type=\"text/javascript\">window.__NUXT__=${serialize(context.nuxt, {isJSON: true})}</script>`\n  APP += context.renderScripts()\n  const html = this.appTemplate({\n    HTML_ATTRS: 'data-n-head-ssr ' + m.htmlAttrs.text(),\n    BODY_ATTRS: m.bodyAttrs.text(),\n    HEAD,\n    APP\n  })\n  return {\n    html,\n    resourceHints,\n    error: context.nuxt.error,\n    redirected: context.redirected\n  }\n}\n\n// Function used to do dom checking via jsdom\nlet jsdom = null\nexport async function renderAndGetWindow (url, opts = {}) {\n  /* istanbul ignore if */\n  if (!jsdom) {\n    try {\n      jsdom = require('jsdom')\n    } catch (e) {\n      console.error('Fail when calling nuxt.renderAndGetWindow(url)') // eslint-disable-line no-console\n      console.error('jsdom module is not installed') // eslint-disable-line no-console\n      console.error('Please install jsdom with: npm install --save-dev jsdom') // eslint-disable-line no-console\n      process.exit(1)\n    }\n  }\n  let options = {\n    resources: 'usable', // load subresources (https://github.com/tmpvar/jsdom#loading-subresources)\n    runScripts: 'dangerously',\n    beforeParse (window) {\n      // Mock window.scrollTo\n      window.scrollTo = () => {\n      }\n    }\n  }\n  if (opts.virtualConsole !== false) {\n    options.virtualConsole = new jsdom.VirtualConsole().sendTo(console)\n  }\n  url = url || 'http://localhost:3000'\n  const {window} = await jsdom.JSDOM.fromURL(url, options)\n  // If Nuxt could not be loaded (error from the server-side)\n  const nuxtExists = window.document.body.innerHTML.includes('window.__NUXT__')\n  if (!nuxtExists) {\n    /* istanbul ignore next */\n    let error = new Error('Could not load the nuxt app')\n    /* istanbul ignore next */\n    error.body = window.document.body.innerHTML\n    throw error\n  }\n  // Used by nuxt.js to say when the components are loaded and the app ready\n  await new Promise((resolve) => {\n    window._onNuxtLoaded = () => resolve(window)\n  })\n  // Send back window object\n  return window\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/render.js","'use strict'\n\nconst http = require('http')\nconst connect = require('connect')\nconst path = require('path')\n\nclass Server {\n  constructor (nuxt) {\n    this.nuxt = nuxt\n    // Initialize\n    this.app = connect()\n    this.server = http.createServer(this.app)\n    this.nuxt.ready()\n    .then(() => {\n      // Add Middleware\n      this.nuxt.options.serverMiddleware.forEach(m => {\n        this.useMiddleware(m)\n      })\n      // Add default render middleware\n      this.useMiddleware(this.render.bind(this))\n    })\n    return this\n  }\n\n  useMiddleware (m) {\n    // Require if needed\n    if (typeof m === 'string') {\n      let src = m\n      // Using ~ or ./ shorthand to resolve from project srcDir\n      if (src.indexOf('~') === 0 || src.indexOf('./') === 0) {\n        src = path.join(this.nuxt.options.srcDir, src.substr(1))\n      }\n      // eslint-disable-next-line no-eval\n      m = eval('require')(src)\n    }\n    if (m instanceof Function) {\n      this.app.use(m)\n    } else if (m && m.path && m.handler) {\n      this.app.use(m.path, m.handler)\n    }\n  }\n\n  render (req, res, next) {\n    this.nuxt.render(req, res)\n    return this\n  }\n\n  listen (port, host) {\n    host = host || '127.0.0.1'\n    port = port || 3000\n    this.nuxt.ready()\n    .then(() => {\n      this.server.listen(port, host, () => {\n        console.log('Ready on http://%s:%s', host, port) // eslint-disable-line no-console\n      })\n    })\n    return this\n  }\n\n  close (cb) {\n    return this.server.close(cb)\n  }\n}\n\nexport default Server\n\n\n\n// WEBPACK FOOTER //\n// ./lib/server.js","module.exports = require(\"compression\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"compression\"\n// module id = 25\n// module chunks = 0","module.exports = require(\"serve-static\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serve-static\"\n// module id = 26\n// module chunks = 0","'use strict'\n\nimport _ from 'lodash'\nimport compression from 'compression'\nimport fs from 'fs-extra'\nimport pify from 'pify'\nimport Server from './server'\nimport Module from './module'\nimport * as build from './build'\nimport * as render from './render'\nimport generate from './generate'\nimport serveStatic from 'serve-static'\nimport { resolve, join } from 'path'\nimport * as utils from './utils'\n\nclass Nuxt {\n  constructor (options = {}) {\n    const defaults = {\n      dev: (process.env.NODE_ENV !== 'production'),\n      buildDir: '.nuxt',\n      env: {},\n      head: {\n        meta: [],\n        link: [],\n        style: [],\n        script: []\n      },\n      plugins: [],\n      css: [],\n      modules: [],\n      layouts: {},\n      serverMiddleware: [],\n      ErrorPage: null,\n      loading: {\n        color: 'black',\n        failedColor: 'red',\n        height: '2px',\n        duration: 5000\n      },\n      transition: {\n        name: 'page',\n        mode: 'out-in'\n      },\n      router: {\n        mode: 'history',\n        base: '/',\n        middleware: [],\n        linkActiveClass: 'nuxt-link-active',\n        linkExactActiveClass: 'nuxt-link-exact-active',\n        extendRoutes: null,\n        scrollBehavior: null\n      },\n      render: {\n        http2: {\n          push: false\n        },\n        static: {},\n        gzip: {\n          threshold: 0\n        },\n        etag: {\n          weak: true // Faster for responses > 5KB\n        }\n      },\n      watchers: {\n        webpack: {},\n        chokidar: {}\n      }\n    }\n    // Sanitization\n    if (options.loading === true) delete options.loading\n    if (options.router && typeof options.router.middleware === 'string') options.router.middleware = [options.router.middleware]\n    if (options.router && typeof options.router.base === 'string') {\n      this._routerBaseSpecified = true\n    }\n    if (typeof options.transition === 'string') options.transition = {name: options.transition}\n    this.options = _.defaultsDeep(options, defaults)\n    // Ready variable\n    this._ready = false\n    // Env variables\n    this.dev = this.options.dev\n    // Explicit srcDir, rootDir and buildDir\n    this.dir = (typeof options.rootDir === 'string' && options.rootDir ? options.rootDir : process.cwd())\n    this.srcDir = (typeof options.srcDir === 'string' && options.srcDir ? resolve(this.dir, options.srcDir) : this.dir)\n    this.buildDir = join(this.dir, options.buildDir)\n    options.rootDir = this.dir\n    options.srcDir = this.srcDir\n    options.buildDir = this.buildDir\n    // If store defined, update store options to true\n    if (fs.existsSync(join(this.srcDir, 'store'))) {\n      this.options.store = true\n    }\n    // If app.html is defined, set the template path to the user template\n    this.options.appTemplatePath = resolve(__dirname, 'views/app.template.html')\n    if (fs.existsSync(join(this.srcDir, 'app.html'))) {\n      this.options.appTemplatePath = join(this.srcDir, 'app.html')\n    }\n    // renderer used by Vue.js (via createBundleRenderer)\n    this.renderer = null\n    // For serving static/ files to /\n    this.serveStatic = pify(serveStatic(resolve(this.srcDir, 'static'), this.options.render.static))\n    // For serving .nuxt/dist/ files (only when build.publicPath is not an URL)\n    this.serveStaticNuxt = pify(serveStatic(resolve(this.buildDir, 'dist'), {\n      maxAge: (this.dev ? 0 : '1y') // 1 year in production\n    }))\n    // gzip middleware for production\n    if (!this.dev && this.options.render.gzip) {\n      this.gzipMiddleware = pify(compression(this.options.render.gzip))\n    }\n    // Add this.Server Class\n    this.Server = Server\n    // Add this.build\n    build.options.call(this) // Add build options\n    this.build = build.build.bind(this)\n    // Error template\n    this.errorTemplate = _.template(fs.readFileSync(resolve(__dirname, 'views', 'error.html'), 'utf8'), {\n      interpolate: /{{([\\s\\S]+?)}}/g\n    })\n    // Add this.render and this.renderRoute\n    this.render = render.render.bind(this)\n    this.renderRoute = render.renderRoute.bind(this)\n    this.renderAndGetWindow = render.renderAndGetWindow.bind(this)\n    // Add this.generate\n    this.generate = generate.bind(this)\n    // Add this.utils (tests purpose)\n    this.utils = utils\n    // Add module integration\n    this.module = new Module(this)\n    // Init nuxt.js\n    this._ready = this.ready()\n    // Return nuxt.js instance\n    return this\n  }\n\n  async ready () {\n    if (this._ready) {\n      await this._ready\n      return this\n    }\n    // Init modules\n    await this.module.ready()\n    // Launch build in development but don't wait for it to be finished\n    if (this.dev) {\n      this.build()\n    } else {\n      build.production.call(this)\n    }\n    return this\n  }\n\n  close (callback) {\n    let promises = []\n    /* istanbul ignore if */\n    if (this.webpackDevMiddleware) {\n      const p = new Promise((resolve, reject) => {\n        this.webpackDevMiddleware.close(() => resolve())\n      })\n      promises.push(p)\n    }\n    /* istanbul ignore if */\n    if (this.webpackServerWatcher) {\n      const p = new Promise((resolve, reject) => {\n        this.webpackServerWatcher.close(() => resolve())\n      })\n      promises.push(p)\n    }\n    /* istanbul ignore if */\n    if (this.filesWatcher) {\n      this.filesWatcher.close()\n    }\n    /* istanbul ignore if */\n    if (this.customFilesWatcher) {\n      this.customFilesWatcher.close()\n    }\n    return Promise.all(promises).then(() => {\n      if (typeof callback === 'function') callback()\n    })\n  }\n}\n\nexport default Nuxt\n\n\n\n// WEBPACK FOOTER //\n// ./lib/nuxt.js","'use strict'\n\nimport { each, defaults } from 'lodash'\nimport webpack from 'webpack'\nimport VueSSRClientPlugin from 'vue-server-renderer/client-plugin'\nimport HTMLPlugin from 'html-webpack-plugin'\nimport FriendlyErrorsWebpackPlugin from 'friendly-errors-webpack-plugin'\nimport ProgressBarPlugin from 'progress-bar-webpack-plugin'\nimport { BundleAnalyzerPlugin } from 'webpack-bundle-analyzer'\nimport OfflinePlugin from 'offline-plugin'\nimport base from './base.config.js'\nimport { resolve } from 'path'\n\nimport UglifyEsPlugin from 'uglify-es-webpack-plugin'\n\n/*\n|--------------------------------------------------------------------------\n| Webpack Client Config\n|\n| Generate public/dist/client-vendor-bundle.js\n| Generate public/dist/client-bundle.js\n|\n| In production, will generate public/dist/style.css\n|--------------------------------------------------------------------------\n*/\nexport default function () {\n  let config = base.call(this, { isClient: true })\n\n  // Entry\n  config.entry.app = resolve(this.buildDir, 'client.js')\n\n  // Add vendors\n  if (this.options.store) {\n    config.entry.vendor.push('vuex')\n  }\n  config.entry.vendor = config.entry.vendor.concat(this.options.build.vendor)\n\n  // Output\n  config.output.path = resolve(this.buildDir, 'dist')\n  config.output.filename = this.options.build.filenames.app\n\n  // env object defined in nuxt.config.js\n  let env = {}\n  each(this.options.env, (value, key) => {\n    env['process.env.' + key] = (typeof value === 'string' ? JSON.stringify(value) : value)\n  })\n  // Webpack plugins\n  config.plugins = (config.plugins || []).concat([\n    // Strip comments in Vue code\n    new webpack.DefinePlugin(Object.assign(env, {\n      'process.env.NODE_ENV': JSON.stringify(env.NODE_ENV || (this.dev ? 'development' : 'production')),\n      'process.BROWSER_BUILD': true,\n      'process.SERVER_BUILD': false,\n      'process.browser': true,\n      'process.server': true\n    })),\n    // Extract vendor chunks for better caching\n    new webpack.optimize.CommonsChunkPlugin({\n      name: 'vendor',\n      filename: this.options.build.filenames.vendor,\n      minChunks (module) {\n        // A module is extracted into the vendor chunk when...\n        return (\n          // If it's inside node_modules\n          /node_modules/.test(module.context) &&\n          // Do not externalize if the request is a CSS file\n          !/\\.(css|less|scss|sass|styl|stylus)$/.test(module.request)\n        )\n      }\n    }),\n    // Extract webpack runtime & manifest\n    new webpack.optimize.CommonsChunkPlugin({\n      name: 'manifest',\n      minChunks: Infinity,\n      filename: this.options.build.filenames.manifest\n    }),\n    // Generate output HTML\n    new HTMLPlugin({\n      template: this.options.appTemplatePath,\n      inject: false // <- Resources will be injected using vue server renderer\n    }),\n    // Generate client manifest json\n    new VueSSRClientPlugin({\n      filename: 'client-manifest.json'\n    })\n  ])\n  // client bundle progress bar\n  config.plugins.push(\n    new ProgressBarPlugin()\n  )\n  // Add friendly error plugin\n  if (this.dev) {\n    config.plugins.push(new FriendlyErrorsWebpackPlugin())\n  }\n  // Production client build\n  if (!this.dev) {\n    config.plugins.push(\n      // This is needed in webpack 2 for minifying CSS\n      new webpack.LoaderOptionsPlugin({\n        minimize: true\n      }),\n      // Minify JS\n      new UglifyEsPlugin({\n        sourceMap: true,\n        compress: {\n          warnings: false\n        }\n      })\n    )\n  }\n  // Extend config\n  if (typeof this.options.build.extend === 'function') {\n    this.options.build.extend.call(this, config, {\n      dev: this.dev,\n      isClient: true\n    })\n  }\n  // Offline-plugin integration\n  if (!this.dev && this.options.offline) {\n    const offlineOpts = typeof this.options.offline === 'object' ? this.options.offline : {}\n    config.plugins.push(\n      new OfflinePlugin(defaults(offlineOpts, {}))\n    )\n  }\n  // Webpack Bundle Analyzer\n  if (!this.dev && this.options.build.analyze) {\n    let options = {}\n    if (typeof this.options.build.analyze === 'object') {\n      options = this.options.build.analyze\n    }\n    config.plugins.push(\n      new BundleAnalyzerPlugin(options)\n    )\n  }\n  return config\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/webpack/client.config.js","'use strict'\n\nimport webpack from 'webpack'\nimport VueSSRServerPlugin from 'vue-server-renderer/server-plugin'\nimport nodeExternals from 'webpack-node-externals'\nimport base from './base.config.js'\nimport { each } from 'lodash'\nimport { resolve } from 'path'\n\n/*\n|--------------------------------------------------------------------------\n| Webpack Server Config\n|--------------------------------------------------------------------------\n*/\nexport default function () {\n  let config = base.call(this, { isServer: true })\n\n  // env object defined in nuxt.config.js\n  let env = {}\n  each(this.options.env, (value, key) => {\n    env['process.env.' + key] = (typeof value === 'string' ? JSON.stringify(value) : value)\n  })\n\n  config = Object.assign(config, {\n    target: 'node',\n    devtool: (this.dev ? 'source-map' : false),\n    entry: resolve(this.buildDir, 'server.js'),\n    output: Object.assign({}, config.output, {\n      path: resolve(this.buildDir, 'dist'),\n      filename: 'server-bundle.js',\n      libraryTarget: 'commonjs2'\n    }),\n    performance: {\n      hints: false\n    },\n    externals: [\n      nodeExternals({\n        // load non-javascript files with extensions, presumably via loaders\n        whitelist: [/\\.(?!(?:js|json)$).{1,5}$/i]\n      })\n    ],\n    plugins: (config.plugins || []).concat([\n      new VueSSRServerPlugin({\n        filename: 'server-bundle.json'\n      }),\n      new webpack.DefinePlugin(Object.assign(env, {\n        'process.env.NODE_ENV': JSON.stringify(this.dev ? 'development' : 'production'),\n        'process.BROWSER_BUILD': false, // deprecated\n        'process.SERVER_BUILD': true,  // deprecated\n        'process.browser': false,\n        'process.server': true\n      }))\n    ])\n  })\n  // This is needed in webpack 2 for minifying CSS\n  if (!this.dev) {\n    config.plugins.push(\n      new webpack.LoaderOptionsPlugin({\n        minimize: true\n      })\n    )\n  }\n\n  // Extend config\n  if (typeof this.options.build.extend === 'function') {\n    this.options.build.extend(config, {\n      dev: this.dev,\n      isServer: true\n    })\n  }\n  return config\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/webpack/server.config.js","'use strict'\n\nimport { defaults } from 'lodash'\nimport { extractStyles, styleLoader } from './helpers'\n\n\n\nexport default function ({ isClient }) {\n  let babelOptions = JSON.stringify(defaults(this.options.build.babel, {\n    presets: ['vue-app'],\n    babelrc: false,\n    cacheDirectory: !!this.dev\n  }))\n\n  // https://github.com/vuejs/vue-loader/blob/master/docs/en/configurations\n  let config = {\n    postcss: this.options.build.postcss,\n    loaders: {\n      'js': 'babel-loader?' + babelOptions,\n      'css': styleLoader.call(this, 'css'),\n      'less': styleLoader.call(this, 'less', 'less-loader'),\n      'sass': styleLoader.call(this, 'sass', 'sass-loader?indentedSyntax&?sourceMap'),\n      'scss': styleLoader.call(this, 'sass', 'sass-loader?sourceMap'),\n      // Note: do not nest the `postcss` option under `loaders`\n      'stylus': styleLoader.call(this, 'stylus', 'stylus-loader'),\n      'styl': styleLoader.call(this, 'stylus', 'stylus-loader'),\n      'coffee': 'coffee-loader',\n      'yml': 'json-loader!yaml-loader',\n      'pug': 'pug-html-loader',\n      'md': {\n        loader: 'markdown-loader',\n        options: {\n          tag: 'div',\n          gfm: true,\n          tables: true,\n          breaks: true,\n          pedantic: false,\n          sanitize: false,\n          smartLists: true,\n          smartypants: true\n        }\n      }\n    },\n    preserveWhitespace: false,\n    extractCSS: extractStyles.call(this)\n  }\n  // Return the config\n  return config\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/webpack/vue-loader.config.js","module.exports = require(\"ansi-html\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ansi-html\"\n// module id = 31\n// module chunks = 0","module.exports = require(\"autoprefixer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"autoprefixer\"\n// module id = 32\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/array/from\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/array/from\"\n// module id = 33\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/slicedToArray\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/slicedToArray\"\n// module id = 34\n// module chunks = 0","module.exports = require(\"chokidar\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"chokidar\"\n// module id = 35\n// module chunks = 0","module.exports = require(\"connect\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"connect\"\n// module id = 36\n// module chunks = 0","module.exports = require(\"etag\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"etag\"\n// module id = 37\n// module chunks = 0","module.exports = require(\"fresh\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fresh\"\n// module id = 38\n// module chunks = 0","module.exports = require(\"friendly-errors-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"friendly-errors-webpack-plugin\"\n// module id = 39\n// module chunks = 0","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 40\n// module chunks = 0","module.exports = require(\"glob\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"glob\"\n// module id = 41\n// module chunks = 0","module.exports = require(\"html-minifier\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"html-minifier\"\n// module id = 42\n// module chunks = 0","module.exports = require(\"html-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"html-webpack-plugin\"\n// module id = 43\n// module chunks = 0","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 44\n// module chunks = 0","module.exports = require(\"jsdom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jsdom\"\n// module id = 45\n// module chunks = 0","module.exports = require(\"memory-fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"memory-fs\"\n// module id = 46\n// module chunks = 0","module.exports = require(\"offline-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"offline-plugin\"\n// module id = 47\n// module chunks = 0","module.exports = require(\"post-compile-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"post-compile-webpack-plugin\"\n// module id = 48\n// module chunks = 0","module.exports = require(\"progress-bar-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"progress-bar-webpack-plugin\"\n// module id = 49\n// module chunks = 0","module.exports = require(\"uglify-es-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"uglify-es-webpack-plugin\"\n// module id = 50\n// module chunks = 0","module.exports = require(\"vue-server-renderer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vue-server-renderer\"\n// module id = 51\n// module chunks = 0","module.exports = require(\"vue-server-renderer/client-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vue-server-renderer/client-plugin\"\n// module id = 52\n// module chunks = 0","module.exports = require(\"vue-server-renderer/server-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vue-server-renderer/server-plugin\"\n// module id = 53\n// module chunks = 0","module.exports = require(\"webpack-bundle-analyzer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-bundle-analyzer\"\n// module id = 54\n// module chunks = 0","module.exports = require(\"webpack-dev-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-dev-middleware\"\n// module id = 55\n// module chunks = 0","module.exports = require(\"webpack-hot-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-hot-middleware\"\n// module id = 56\n// module chunks = 0","module.exports = require(\"webpack-node-externals\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-node-externals\"\n// module id = 57\n// module chunks = 0"],"sourceRoot":""}